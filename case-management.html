<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¡ˆä¾‹ç®¡ç†ç³»çµ± - Billion Studio Admin</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        
        :root {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-card: #334155;
            --accent: #3b82f6;
            --accent-hover: #2563eb;
            --success: #10b981;
            --danger: #ef4444;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --border: #475569;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        header {
            background: var(--bg-secondary);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--accent);
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        h1 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
        }
        
        .lang-toggle {
            padding: 0.5rem 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text-primary);
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .lang-toggle:hover {
            background: var(--accent);
            border-color: var(--accent);
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: var(--accent);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background: #059669;
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }
        
        .btn-danger:hover {
            background: #dc2626;
        }
        
        .btn-secondary {
            background: var(--bg-card);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }
        
        .btn-secondary:hover {
            background: var(--border);
        }
        
        /* Form Styles */
        .form-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }
        
        .form-modal.active {
            display: flex;
        }
        
        .form-container {
            background: var(--bg-secondary);
            padding: 2rem;
            border-radius: 16px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .form-header h2 {
            color: var(--accent);
            font-size: 1.5rem;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .close-btn:hover {
            color: var(--danger);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
            font-weight: 600;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 0.75rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        .tag-input-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            padding: 0.5rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            min-height: 50px;
        }
        
        .tag-item {
            padding: 0.4rem 0.8rem;
            background: var(--accent);
            color: white;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }
        
        .tag-remove {
            cursor: pointer;
            font-weight: bold;
        }
        
        .tag-input {
            flex: 1;
            border: none;
            background: transparent;
            padding: 0.4rem;
            min-width: 100px;
        }
        
        .tag-input:focus {
            outline: none;
            box-shadow: none;
        }
        
        /* Cases List */
        .cases-list {
            display: grid;
            gap: 1.5rem;
        }
        
        .case-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s;
        }
        
        .case-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            border-color: var(--accent);
        }
        
        .case-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }
        
        .case-title {
            flex: 1;
        }
        
        .case-title h3 {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }
        
        .case-category {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            background: var(--bg-card);
            border-radius: 6px;
            font-size: 0.85rem;
            color: var(--accent);
            font-weight: 600;
        }
        
        .case-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .case-description {
            color: var(--text-secondary);
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        
        .case-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .tag {
            padding: 0.3rem 0.8rem;
            background: var(--bg-card);
            border-radius: 6px;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
        
        .export-controls {
            display: flex;
            gap: 1rem;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid var(--border);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.25rem;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .export-controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>ğŸ¯ æ¡ˆä¾‹ç®¡ç†ç³»çµ±</h1>
            <button class="lang-toggle" onclick="toggleLanguage()">English</button>
        </div>
    </header>
    
    <div class="container">
        <div class="stats">
            <div class="stat-card">
                <div class="stat-value" id="totalCases">0</div>
                <div class="stat-label">ç¸½æ¡ˆä¾‹æ•¸</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="healthCases">0</div>
                <div class="stat-label">å¥åº·æ‡‰ç”¨</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="websiteCases">0</div>
                <div class="stat-label">ç¶²ç«™é …ç›®</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="otherCases">0</div>
                <div class="stat-label">å…¶ä»–é …ç›®</div>
            </div>
        </div>
        
        <div class="controls">
            <button class="btn btn-primary" onclick="openAddForm()">
                â• æ·»åŠ æ–°æ¡ˆä¾‹
            </button>
            <div class="export-controls">
                <button class="btn btn-success" onclick="exportJSON()">
                    ğŸ“¥ åŒ¯å‡º JSON
                </button>
                <button class="btn btn-secondary" onclick="importJSON()">
                    ğŸ“¤ åŒ¯å…¥ JSON
                </button>
                <input type="file" id="fileInput" accept=".json" style="display: none;" onchange="handleFileImport(event)">
            </div>
        </div>
        
        <div class="cases-list" id="casesList">
            <!-- Cases will be rendered here -->
        </div>
    </div>
    
    <!-- Form Modal -->
    <div class="form-modal" id="formModal">
        <div class="form-container">
            <div class="form-header">
                <h2 id="formTitle">æ·»åŠ æ–°æ¡ˆä¾‹</h2>
                <button class="close-btn" onclick="closeForm()">âœ•</button>
            </div>
            
            <form id="caseForm" onsubmit="saveCase(event)">
                <input type="hidden" id="caseId">
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="nameEn">è‹±æ–‡åç¨± *</label>
                        <input type="text" id="nameEn" required placeholder="Blood Pressure Tracker">
                    </div>
                    <div class="form-group">
                        <label for="nameZh">ä¸­æ–‡åç¨± *</label>
                        <input type="text" id="nameZh" required placeholder="è¡€å£“è¿½è¹¤å™¨">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="category">é¡åˆ¥ *</label>
                    <select id="category" required>
                        <option value="">é¸æ“‡é¡åˆ¥</option>
                        <option value="Health">Health / å¥åº·æ‡‰ç”¨</option>
                        <option value="Production">Production / ç”Ÿç”¢åŠ›å·¥å…·</option>
                        <option value="Marketing">Marketing / æ•¸ç¢¼ç‡ŸéŠ·</option>
                        <option value="Website">Website / ç¶²ç«™è¨­è¨ˆ</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="descriptionEn">è‹±æ–‡æè¿° *</label>
                    <textarea id="descriptionEn" required placeholder="A comprehensive health app for monitoring..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="descriptionZh">ä¸­æ–‡æè¿° *</label>
                    <textarea id="descriptionZh" required placeholder="å…¨é¢çš„å¥åº·æ‡‰ç”¨ç¨‹å¼ï¼Œç”¨æ–¼ç›£æ¸¬..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="projectUrl">é …ç›®ç¶²å€ï¼ˆé¸å¡«ï¼‰</label>
                    <input type="url" id="projectUrl" placeholder="https://example.com">
                    <small style="color: var(--text-muted); font-size: 0.85rem; margin-top: 0.25rem; display: block;">
                        â„¹ï¸ å¡«å¯«å®Œæ•´ç¶²å€ï¼ŒåŒ…å« https://ã€‚ç•™ç©ºå‰‡é¡¯ç¤ºã€Œå³å°‡æ¨å‡ºã€
                    </small>
                </div>
                
                <div class="form-group">
                    <label for="tags">æ¨™ç±¤ï¼ˆæŒ‰ Enter æ·»åŠ ï¼‰</label>
                    <div class="tag-input-container" id="tagsContainer" onclick="focusTagInput()">
                        <input type="text" class="tag-input" id="tagInput" placeholder="è¼¸å…¥æ¨™ç±¤ä¸¦æŒ‰ Enter" onkeydown="handleTagInput(event)">
                    </div>
                </div>
                
                <div class="form-group" style="display: flex; gap: 1rem;">
                    <button type="submit" class="btn btn-success" style="flex: 1;">
                        ğŸ’¾ ä¿å­˜æ¡ˆä¾‹
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="closeForm()">
                        å–æ¶ˆ
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <script>
        let cases = [
            {
                id: 1,
                name: { en: "Blood Pressure Tracker", zh: "è¡€å£“è¿½è¹¤å™¨" },
                category: "Health",
                description: { 
                    en: "A comprehensive health app for monitoring and tracking blood pressure with detailed analytics and insights.",
                    zh: "å…¨é¢çš„å¥åº·æ‡‰ç”¨ç¨‹å¼ï¼Œç”¨æ–¼ç›£æ¸¬å’Œè¿½è¹¤è¡€å£“ï¼Œæä¾›è©³ç´°çš„åˆ†æå’Œè¦‹è§£ã€‚"
                },
                tags: ["iOS", "Android", "Health", "Analytics"],
                url: "" // è«‹æ·»åŠ ç¶²å€
            },
            {
                id: 2,
                name: { en: "Glucose Tracker", zh: "è‘¡è„ç³–è¿½è¹¤å™¨" },
                category: "Health",
                description: { 
                    en: "Smart glucose monitoring solution with data visualization and personalized health recommendations.",
                    zh: "æ™ºèƒ½è‘¡è„ç³–ç›£æ¸¬æ–¹æ¡ˆï¼Œå…·æœ‰æ•¸æ“šå¯è¦–åŒ–å’Œå€‹æ€§åŒ–å¥åº·å»ºè­°ã€‚"
                },
                tags: ["iOS", "Android", "Diabetes", "AI"],
                url: "" // è«‹æ·»åŠ ç¶²å€
            },
            {
                id: 3,
                name: { en: "Simple Books", zh: "ç°¡æ˜“è³¬æœ¬" },
                category: "Production",
                description: { 
                    en: "Streamlined bookkeeping and accounting tool designed for small businesses and freelancers.",
                    zh: "å°ˆç‚ºå°å‹ä¼æ¥­å’Œè‡ªç”±è·æ¥­è€…è¨­è¨ˆçš„ç°¡åŒ–è¨˜è³¬å’Œæœƒè¨ˆå·¥å…·ã€‚"
                },
                tags: ["Finance", "Productivity", "Business"],
                url: "" // è«‹æ·»åŠ ç¶²å€
            },
            {
                id: 4,
                name: { en: "Domain Manager", zh: "åŸŸåç®¡ç†å™¨" },
                category: "Production",
                description: { 
                    en: "Centralized platform for managing multiple domains, DNS records, and SSL certificates.",
                    zh: "é›†ä¸­ç®¡ç†å¤šå€‹åŸŸåã€DNSè¨˜éŒ„å’ŒSSLè­‰æ›¸çš„å¹³å°ã€‚"
                },
                tags: ["DevOps", "Domains", "Management"],
                url: "" // è«‹æ·»åŠ ç¶²å€
            },
            {
                id: 5,
                name: { en: "YouTube Livestream Award", zh: "YouTube ç›´æ’­çå‹µ" },
                category: "Marketing",
                description: { 
                    en: "Interactive engagement tool for YouTube livestreams with real-time rewards and audience interaction.",
                    zh: "YouTubeç›´æ’­çš„äº’å‹•åƒèˆ‡å·¥å…·ï¼Œå…·æœ‰å³æ™‚çå‹µå’Œè§€çœ¾äº’å‹•åŠŸèƒ½ã€‚"
                },
                tags: ["YouTube", "Engagement", "Streaming"],
                url: "" // è«‹æ·»åŠ ç¶²å€
            },
            {
                id: 6,
                name: { en: "SEO Marketer", zh: "SEO ç‡ŸéŠ·å·¥å…·" },
                category: "Marketing",
                description: { 
                    en: "Comprehensive SEO analysis and optimization toolkit for improving search rankings and visibility.",
                    zh: "å…¨é¢çš„SEOåˆ†æå’Œå„ªåŒ–å·¥å…·åŒ…ï¼Œç”¨æ–¼æé«˜æœç´¢æ’åå’Œå¯è¦‹åº¦ã€‚"
                },
                tags: ["SEO", "Analytics", "Marketing"],
                url: "" // è«‹æ·»åŠ ç¶²å€
            },
            {
                id: 7,
                name: { en: "Melody House", zh: "ç¾æ¨‚è’‚ä¹‹å®¶" },
                category: "Website",
                description: { 
                    en: "Beautiful and responsive website for a music education center with booking system.",
                    zh: "éŸ³æ¨‚æ•™è‚²ä¸­å¿ƒçš„ç²¾ç¾éŸ¿æ‡‰å¼ç¶²ç«™ï¼Œé…å‚™é è¨‚ç³»çµ±ã€‚"
                },
                tags: ["WordPress", "Booking", "Education"],
                url: "" // è«‹æ·»åŠ ç¶²å€
            },
            {
                id: 8,
                name: { en: "Surrey Practical Self Defence", zh: "è–©é‡Œå¯¦ç”¨è‡ªè¡›" },
                category: "Website",
                description: { 
                    en: "Professional website for self-defense training academy with class schedules and registration.",
                    zh: "è‡ªè¡›è¨“ç·´å­¸é™¢çš„å°ˆæ¥­ç¶²ç«™ï¼ŒåŒ…å«èª²ç¨‹æ™‚é–“è¡¨å’Œè¨»å†ŠåŠŸèƒ½ã€‚"
                },
                tags: ["Training", "Registration", "CMS"],
                url: "" // è«‹æ·»åŠ ç¶²å€
            },
            {
                id: 9,
                name: { en: "SjÃ¶gren's Syndrome Guide", zh: "ä¿®æ ¼è˜­æ°ç—‡å€™ç¾¤æŒ‡å—" },
                category: "Website",
                description: { 
                    en: "Informative medical resource website providing comprehensive information about SjÃ¶gren's Syndrome.",
                    zh: "æä¾›æœ‰é—œä¿®æ ¼è˜­æ°ç—‡å€™ç¾¤å…¨é¢è³‡è¨Šçš„é†«ç™‚è³‡æºç¶²ç«™ã€‚"
                },
                tags: ["Medical", "Educational", "Resource"],
                url: "" // è«‹æ·»åŠ ç¶²å€
            },
            {
                id: 10,
                name: { en: "Premium Financing", zh: "å„ªè³ªèè³‡" },
                category: "Website",
                description: { 
                    en: "Professional financial services website with loan calculator and application system.",
                    zh: "å°ˆæ¥­é‡‘èæœå‹™ç¶²ç«™ï¼Œé…å‚™è²¸æ¬¾è¨ˆç®—å™¨å’Œç”³è«‹ç³»çµ±ã€‚"
                },
                tags: ["Finance", "Banking", "Calculator"],
                url: "" // è«‹æ·»åŠ ç¶²å€
            },
            {
                id: 11,
                name: { en: "Romantic Surprise", zh: "æµªæ¼«é©šå–œ" },
                category: "Website",
                description: { 
                    en: "Creative event planning website for romantic occasions with custom packages and booking.",
                    zh: "æµªæ¼«å ´åˆçš„å‰µæ„æ´»å‹•ç­–åŠƒç¶²ç«™ï¼Œæä¾›å®šåˆ¶å¥—é¤å’Œé è¨‚æœå‹™ã€‚"
                },
                tags: ["Events", "E-commerce", "Booking"],
                url: "" // è«‹æ·»åŠ ç¶²å€
            }
        ];
        
        let currentTags = [];
        let editingId = null;
        let currentLang = 'zh';
        
        // Initialize
        renderCases();
        updateStats();
        
        function renderCases() {
            const container = document.getElementById('casesList');
            container.innerHTML = cases.map(c => `
                <div class="case-card">
                    <div class="case-header">
                        <div class="case-title">
                            <h3>${c.name[currentLang]}</h3>
                            <span class="case-category">${c.category}</span>
                        </div>
                        <div class="case-actions">
                            <button class="btn btn-secondary" onclick="editCase(${c.id})">âœï¸ ç·¨è¼¯</button>
                            <button class="btn btn-danger" onclick="deleteCase(${c.id})">ğŸ—‘ï¸ åˆªé™¤</button>
                        </div>
                    </div>
                    <p class="case-description">${c.description[currentLang]}</p>
                    ${c.url ? `
                        <p style="color: var(--accent); margin: 0.5rem 0; font-size: 0.9rem;">
                            ğŸ”— <a href="${c.url}" target="_blank" rel="noopener noreferrer" style="color: var(--accent); text-decoration: none;">
                                ${c.url}
                            </a>
                        </p>
                    ` : `
                        <p style="color: var(--text-muted); margin: 0.5rem 0; font-size: 0.9rem;">
                            âš ï¸ å°šæœªè¨­å®šç¶²å€
                        </p>
                    `}
                    <div class="case-tags">
                        ${c.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                </div>
            `).join('');
        }
        
        function updateStats() {
            document.getElementById('totalCases').textContent = cases.length;
            document.getElementById('healthCases').textContent = cases.filter(c => c.category === 'Health').length;
            document.getElementById('websiteCases').textContent = cases.filter(c => c.category === 'Website').length;
            document.getElementById('otherCases').textContent = cases.filter(c => c.category !== 'Health' && c.category !== 'Website').length;
        }
        
        function openAddForm() {
            editingId = null;
            document.getElementById('formTitle').textContent = 'æ·»åŠ æ–°æ¡ˆä¾‹';
            document.getElementById('caseForm').reset();
            currentTags = [];
            renderTags();
            document.getElementById('formModal').classList.add('active');
        }
        
        function closeForm() {
            document.getElementById('formModal').classList.remove('active');
        }
        
        function editCase(id) {
            const caseData = cases.find(c => c.id === id);
            if (!caseData) return;
            
            editingId = id;
            document.getElementById('formTitle').textContent = 'ç·¨è¼¯æ¡ˆä¾‹';
            document.getElementById('caseId').value = id;
            document.getElementById('nameEn').value = caseData.name.en;
            document.getElementById('nameZh').value = caseData.name.zh;
            document.getElementById('category').value = caseData.category;
            document.getElementById('descriptionEn').value = caseData.description.en;
            document.getElementById('descriptionZh').value = caseData.description.zh;
            document.getElementById('projectUrl').value = caseData.url || '';
            currentTags = [...caseData.tags];
            renderTags();
            
            document.getElementById('formModal').classList.add('active');
        }
        
        function deleteCase(id) {
            if (!confirm('ç¢ºå®šè¦åˆªé™¤é€™å€‹æ¡ˆä¾‹å—ï¼Ÿ')) return;
            cases = cases.filter(c => c.id !== id);
            renderCases();
            updateStats();
        }
        
        function saveCase(event) {
            event.preventDefault();
            
            const formData = {
                name: {
                    en: document.getElementById('nameEn').value,
                    zh: document.getElementById('nameZh').value
                },
                category: document.getElementById('category').value,
                description: {
                    en: document.getElementById('descriptionEn').value,
                    zh: document.getElementById('descriptionZh').value
                },
                tags: currentTags,
                url: document.getElementById('projectUrl').value.trim()
            };
            
            if (editingId) {
                const index = cases.findIndex(c => c.id === editingId);
                cases[index] = { ...cases[index], ...formData };
            } else {
                const newId = Math.max(...cases.map(c => c.id), 0) + 1;
                cases.push({ id: newId, ...formData });
            }
            
            renderCases();
            updateStats();
            closeForm();
        }
        
        function handleTagInput(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                const input = event.target;
                const tag = input.value.trim();
                if (tag && !currentTags.includes(tag)) {
                    currentTags.push(tag);
                    input.value = '';
                    renderTags();
                }
            }
        }
        
        function removeTag(tag) {
            currentTags = currentTags.filter(t => t !== tag);
            renderTags();
        }
        
        function renderTags() {
            const container = document.getElementById('tagsContainer');
            const input = document.getElementById('tagInput');
            const tagsHTML = currentTags.map(tag => `
                <span class="tag-item">
                    ${tag}
                    <span class="tag-remove" onclick="removeTag('${tag}')">âœ•</span>
                </span>
            `).join('');
            
            container.innerHTML = tagsHTML + '<input type="text" class="tag-input" id="tagInput" placeholder="è¼¸å…¥æ¨™ç±¤ä¸¦æŒ‰ Enter" onkeydown="handleTagInput(event)">';
        }
        
        function focusTagInput() {
            document.getElementById('tagInput').focus();
        }
        
        function exportJSON() {
            const dataStr = JSON.stringify(cases, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'billionstudio-cases.json';
            link.click();
            URL.revokeObjectURL(url);
        }
        
        function importJSON() {
            document.getElementById('fileInput').click();
        }
        
        function handleFileImport(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const imported = JSON.parse(e.target.result);
                    if (Array.isArray(imported)) {
                        cases = imported;
                        renderCases();
                        updateStats();
                        alert('æ¡ˆä¾‹åŒ¯å…¥æˆåŠŸï¼');
                    }
                } catch (error) {
                    alert('åŒ¯å…¥å¤±æ•—ï¼šæ–‡ä»¶æ ¼å¼éŒ¯èª¤');
                }
            };
            reader.readAsText(file);
        }
        
        function toggleLanguage() {
            currentLang = currentLang === 'zh' ? 'en' : 'zh';
            document.querySelector('.lang-toggle').textContent = currentLang === 'zh' ? 'English' : 'ä¸­æ–‡';
            renderCases();
        }
    </script>
</body>
</html>
